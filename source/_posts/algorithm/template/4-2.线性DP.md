---
title: 算法模板4-2.DP-线性DP
categories:
  - [Algorithm, Template]
---

# 线性DP

DP的递推顺序是线性的。

> 比如：`f(i, j)`中i和j是从小到大递增。
>
> 背包问题就是线性DP。

## 模板题

### 数字三角形

`f(i, j)`表示走到第i行第j列时的最大路径

方程：`f(i, j) = max(f[i - 1][j], f[i - 1][j - 1]) + a[i][j]`

### 最长上升子序列

`f[i]`表示所有以第i个数结尾的上升子序列长度的最大值

从0到i-1枚举倒数第二位j，找到最长的`f[j]`

方程：`f[i] = max(f[j] + 1), j = 0,1,2,...,i-1 && a[j] < a[i]`

记录方案：用一个g数组记录第i个数对应的最长子序列中倒数第二位j：`g[i] = j`，最后就可以把路径倒序输出

### 最长公共子序列

`f(i, j)` 表示所有在第一个序列的前i个字母中出现，且在第二个序列的前j个字母中出现的子序列的长度的最大值

集合划分：

- 以`a[i]`和`b[j]`是否出现在子序列中划分（4种情况）

  - 00：`f(i - 1, j - 1)`（不用写，已经包含在01和10情况内了）
  - 01：`f(i - 1, j)`
  - 10：`f(i, j - 1)`
  - 11：`f(i - 1, j - 1) + 1`, 且需要满足`a[i] == b[j]`

  > 注意：
  >
  > 01情况：`f(i - 1, j)`和01又区别，前者表示在第二个的前j个字母中出现的子序列（第j个字母不一定包含在子序列内），而后者表示第j个字母一定在子序列内。前者包含后者。但由于`f(i, j)`包含`f(i - 1, j)`这种状态，属性又为Max（集合划分适当重叠不影响结果的正确性，只要不漏掉某些情况），所以可以这样表示。
  >
  > 10情况同理。
  >
  > 不懂再去复习一下题解。