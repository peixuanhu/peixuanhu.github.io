---
title: 算法模板5-4.贪心-绝对值不等式
categories:
  - [Algorithm, Template]
---

# 绝对值不等式

## 模板题

### 货仓选址

#### 思路

总距离：

```
f(x) = |x1 - x| + |x2 - x| + ... + |xn - x| 求最小值
= (|x1 - x| + |xn - x|) + (|x2 - x| + |xn-1 - x|) + ... 两两分组
>= (xn - x1) + (xn-1 - x2) + ... 当x在每组的两个数之间时，等号成立
商店数量为奇数时，x取中位数，商店数量为偶数时，取最中间的两个数之间的任意一个位置
```

#### 代码

绝对值公式：

```cpp
#include<iostream>
#include<algorithm>

using namespace std;

const int N = 100010;
int n, a[N];

int main()
{
    scanf("%d", &n);
    for (int i = 0; i < n; i ++) scanf("%d", &a[i]);
    
    sort(a, a + n);
    
    int res = 0;
    for (int i = 0; i < n; i ++) res += abs(a[i] - a[n / 2]);
    
    printf("%d", res);
    
    return 0;
}
```



双指针：

```cpp
#include<iostream>
#include<algorithm>

using namespace std;

const int N = 100010;
int n, a[N];

int main()
{
    scanf("%d", &n);
    for (int i = 0; i < n; i ++) scanf("%d", &a[i]);
    
    sort(a, a + n);
    
    int res = 0;
    for (int i = 0, j = n - 1; i < j; i ++, j --) res += a[j] - a[i];
    
    printf("%d", res);
    
    return 0;
}
```

