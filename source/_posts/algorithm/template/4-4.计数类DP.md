---
title: 算法模板4-4.DP-计数类DP
categories:
  - [Algorithm, Template]
---

# 计数类DP

## 模板题：整数划分

### 解法一：完全背包问题

看作从权重为1～n的物品中选总权重不超过n的物品的完全背包问题，属性为总选法的个数cnt。

```cpp
f[i][j] = f[i - 1][j] + f[i - 1][j - i] + f[i - 1][j - 2i] + ... + f[i - 1][j - si]
f[i][j - i] = f[i - 1][j - i] + f[i - 1][j - 2i] + ... + f[i - 1][j - si]

=>f[i][j] = f[i - 1][j] + f[i][j - i]
```

### 解法二：计数DP

#### 状态表示

集合：`f(i, j)`表示所有总和是`i`，并且恰好表示成`j`个数的和的方案。

属性：方案数量

#### 状态计算

集合划分为：`方案中的最小值为1` 和 `方案中的最小值大于1` 两个集合。

`f[i][j] = f[i - 1][j - 1] + f[i - j][j]`，等式右边的两项分别对应上述两个集合的方案数。

> `f[i - 1][j - 1]`表示把集合中等于1的那个数去掉的选法数量，之后加上1选法数量不变
>
> `f[i - j][j]`表示把方案中所有数都减去1的选法数量，总共减了`j`，数的个数还是`j`

`ans = f[n][1] + f[n][2] + ... + f[n][n]`
